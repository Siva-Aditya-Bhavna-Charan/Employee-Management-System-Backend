<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="icon" type="image/png" href="/images/logo.png" sizes="32x32">
    <link rel="stylesheet" href="/css/login.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</head>
<body>
    <div class="container">
        <div class="signup-box">
            <h2>Login</h2>
            <p class="signup-message">Glad you’re back...!</p>
            <form method="post" action="/login">
                <div class="input-field">
                    <input type="text" id="employee-id" name="username" placeholder="Enter your Id" required>
                </div>
                <div class="input-field">
                    <input type="password" id="passwordInput" name="password" placeholder="Password" required>
                    <svg class="eye-icon" id="eyeIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="cursor: pointer;">
                        <path d="M1 12C1 12 4.5 5 12 5s11 7 11 7-3.5 7-11 7S1 12 1 12z"/>
                        <circle cx="12" cy="12" r="3"/>
                    </svg>                    
                </div>
                <div class="remember">
                    <input type="checkbox" id="rememberMe" class="checkbox" />
                    <label for="rememberMe">Remember me</label>
                </div>
                
                <button class="signup-button" type="submit">Login</button>
            </form>
            <!-- <p class="login-link">Don’t have an account? <a href="../SignUp/index.html">Signup</a></p> -->

            <div class="divider-with-text">
                <hr class="divider">
                <span class="help-text">Or</span>
                <hr class="divider">
            </div>

            <div class="footer-links">
                <a href="#">Terms & Conditions</a>
                <a href="#">Support</a>
                <a href="#">Customer Care</a>
            </div>
        </div>
    </div>

    <!-- JavaScript to toggle password visibility -->
    <script>
        const passwordInput = document.getElementById("passwordInput");
        const eyeIcon = document.getElementById("eyeIcon");
        let isPasswordVisible = false;

        eyeIcon.addEventListener("click", () => {
            if (isPasswordVisible) {
                // Hide password
                passwordInput.type = "password";
                eyeIcon.innerHTML = '<path d="M1 12C1 12 4.5 5 12 5s11 7 11 7-3.5 7-11 7S1 12 1 12z"/><circle cx="12" cy="12" r="3"/>';
            } else {
                // Show password
                passwordInput.type = "text";
                eyeIcon.innerHTML = '<path d="M17.94 17.94A10 10 0 0 1 12 20C4.5 20 1 12 1 12a15.73 15.73 0 0 1 2.46-3.68m3.34-2.32A9.94 9.94 0 0 1 12 4c7.5 0 11 7 11 7a16.2 16.2 0 0 1-2.62 3.86M9 9l6 6M15 9l-6 6"/>';
            }
            isPasswordVisible = !isPasswordVisible;
        });
        
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('error')) {
            Toastify({
                text: "Login failed! Please check your credentials.",
                duration: 3000,
                close: true,
                gravity: "top",
                position: "center",
                style: { background: "#FF0000" }, // Red color for failure
            }).showToast();
        }
        
        document.addEventListener("DOMContentLoaded", function() {
            if (window.location.href.includes("/login")) {
                localStorage.removeItem("employeeId");
                console.log("LocalStorage cleared after logout.");
                Toastify({
                    text: "You have logged out successfully!",
                    duration: 3000,
                    close: true,
                    gravity: "top",
                    position: "center",
                    style: { background: "#4CAF50" },
                }).showToast();
            }
        });
    </script>
</body>
</html>
